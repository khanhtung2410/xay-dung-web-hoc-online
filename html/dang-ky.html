<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web học trực tuyến</title>
    <link rel="icon" href="/image/icon/dragon-removebg-preview.png">
    <link rel="stylesheet" href="/css/dangky.css">
    <link rel="stylesheet" href="/css/navigation-bar.css">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
</head>

<body>
    <div class="w3-bar" style="background-color: antiquewhite;">
        <a class="w3-bar-item w3-button" href="/html/menu.html">
            <img src="../image/icon/dragon-removebg-preview.png" style="height: 31px;"></a>
        <a class="w3-bar-item w3-button hover-text w3-right" data-hover="Close" href="/html/menu.html">
            <img src="/image/icon/x-icon.png" style="width: 25px; height: 31px; opacity: 0.6;"></a>
    </div>
    <div class="sign-up-box-wrapper">
        <div>
            <h1>SIGN UP</h1>
        </div>
        <div class="sign-up-wrapper">
            <form id="signup" method="post">
                <label for="yourname">Họ tên<span class="need">*</span></label>
                <div class="input-boxes">
                    <input type="text" id="yourname" name="yourname" required>
                </div>
                <label for="username">Username<span class="need">*</span></label>
                <div class="input-boxes">
                    <input type="text" id="username" name="username" required minlength="8" maxlength="18">
                </div>
                <label for="CCCD">CCCD<span class="need">*</span></label>
                <div class="input-boxes">
                    <input type="text" id="CCCD" name="CCCD" minlength="12" maxlength="12">
                </div>
                <label for="gender">Giới tính</label>
                <div class="input-boxes multichoice-box">
                    <input type="radio" id="gender1" name="gender" value="Nam"> Nam
                    <input type="radio" id="gender2" name="gender" value="Nữ"> Nữ
                    <input type="radio" id="gender3" name="gender" value="Không rõ"> Không rõ
                </div>
                <label for="Date-of-birth">Ngày tháng năm sinh<span id="date-warning" style="visibility: hidden;">Không
                        hợp lệ</span></label>
                <div class="input-boxes">
                    <select name="Date-of-birth" id="date" onchange="checkdatecondition()">
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="10">10</option>
                        <option value="11">11</option>
                        <option value="12">12</option>
                        <option value="13">13</option>
                        <option value="14">14</option>
                        <option value="15">15</option>
                        <option value="16">16</option>
                        <option value="17">17</option>
                        <option value="18">18</option>
                        <option value="19">19</option>
                        <option value="20">20</option>
                        <option value="21">21</option>
                        <option value="22">22</option>
                        <option value="23">23</option>
                        <option value="24">24</option>
                        <option value="25">25</option>
                        <option value="26">26</option>
                        <option value="27">27</option>
                        <option value="28">28</option>
                        <option class="feb-full" value="29">29</option>
                        <option class="not-feb" value="30">30</option>
                        <option class="not-feb" value="31">31</option>
                    </select><a> /</a>
                    <select name="Date-of-birth" id="month" onchange="checkdatecondition()">
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="10">10</option>
                        <option value="11">11</option>
                        <option value="12">12</option>
                    </select><a> /</a>
                    <select name="Date-of-birth" id="year" onchange="checkdatecondition()">
                        <option value="1985">1985</option>
                        <option value="1986">1986</option>
                        <option value="1987">1987</option>
                        <option value="1988">1988</option>
                        <option value="1989">1989</option>
                        <option value="1990">1990</option>
                        <option value="1991">1991</option>
                        <option value="1992">1992</option>
                        <option value="1993">1993</option>
                        <option value="1994">1994</option>
                        <option value="1995">1995</option>
                        <option value="1996">1996</option>
                        <option value="1997">1997</option>
                        <option value="1998">1998</option>
                        <option value="1999">1999</option>
                        <option value="2000">2000</option>
                        <option value="2001">2001</option>
                        <option value="2002">2002</option>
                        <option value="2003">2003</option>
                        <option value="2004">2004</option>
                        <option value="2005">2005</option>
                        <option value="2006">2006</option>
                        <option value="2007">2007</option>
                        <option value="2008">2008</option>
                        <option value="2009">2009</option>
                    </select>
                </div>
                <label for="gmail">Gmail<span class="need">*</span></label>
                <div class="input-boxes">
                    <input type="gmail" name="gmail" id="gmail">
                </div>
                <label for="password">Mật khẩu<span class="need">*</span></label>
                <div class="input-boxes">
                    <input type="password" name="password" id="Password">
                </div>
                <div id="message">
                    <h6>Password must contain the following:</h6>
                    <p id="letter" class="invalid">Ít nhất <b>1</b> chữ <b>thường</b></p>
                    <p id="capital" class="invalid">Ít nhất <b>1</b> chữ <b>hoa</b></p>
                    <p id="number" class="invalid">Ít nhất <b>1 số</b></p>
                    <p id="special" class="invalid">Ít nhất <b>1 kí tự đặc biệt</b></p>
                    <p id="length" class="invalid">Tối thiểu <b>8 kí tự</b></p>
                </div>
                <label for="password-retype">Nhập lại mật khẩu<span class="need">*</span></label>
                <div class="input-boxes">
                    <input type="password" name="password-retype" id="Password-retype">
                </div>
                <input type="submit" value="Đăng ký">
            </form>
        </div>
    </div>
</body>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script>
    function checkdatecondition() {
        var date = document.getElementById("date");
        var month = document.getElementById("month");
        var year = document.getElementById("year");
        if (month.value == 2) {
            if (date.value == 30 || date.value == 31) {
                debugger
                document.getElementById("date-warning").style.visibility = "visible";
                resetselecteddate(date);
                resetselecteddate(month);
                resetselecteddate(year);
            }
            if (date.value == 29 && (year.value % 4) != 0) {
                document.getElementById("date-warning").style.visibility = "visible";
                resetselecteddate(date);
                resetselecteddate(month);
                resetselecteddate(year);
            }
        }
        if ((month.value == 4 || month.value == 6 || month.value == 9 || month.value == 11) && date.value == 31) {
            document.getElementById("date-warning").style.visibility = "visible";
            resetselecteddate(date);
            resetselecteddate(month);
            resetselecteddate(year);
        }
    }
    function resetselecteddate(string) {
        string.selectedIndex = null;
    }
    // scrap hết đổi lại thành condition ngày và thông báo invalid
    // cho hien full het roi check tính valid của ngày
    //check dk password
    document.addEventListener("DOMContentLoaded", function () {
        document.querySelector("#signup").onsubmit = function () {
            const username = document.querySelector("#username").value;
            const password = document.querySelector("#Password").value;
            if (condition1.test(password.charAt(0)) == true)
                return wrong("username")
            if (password.length < 8)
                return wrong("username");
            if (condition1.test(password) == false)
                return wrong("username");
            if (condition2.test(password) == false)
                return wrong("username");
            if (condition3.test(password) == false)
                return wrong("username");
            if (condition4.test(password) == false)
                return wrong("username");
        };
        function wrong(string) {
            alert("Sai " + string);
        }
        document.getElementById("Password").onfocus = function () {
            document.getElementById("message").style.display = "block";
        }

        // Ẩn box khi ko nhấn vào password
        document.getElementById("Password").onblur = function () {
            document.getElementById("message").style.display = "none";
        }
        // Khi nhập vào password
        document.getElementById("Password").onkeyup = function () {
            // Kiểm tra chữ viết thường
            var lowerCaseLetters = /[a-z]/g;
            if (document.getElementById("Password").value.match(lowerCaseLetters)) {
                letter.classList.remove("invalid");
                letter.classList.add("valid");
            } else {
                letter.classList.remove("valid");
                letter.classList.add("invalid");
            }

            // Kiểm tra chữ viết hoa
            var upperCaseLetters = /[A-Z]/g;
            if (document.getElementById("Password").value.match(upperCaseLetters)) {
                capital.classList.remove("invalid");
                capital.classList.add("valid");
            } else {
                capital.classList.remove("valid");
                capital.classList.add("invalid");
            }

            // Kiểm tra số
            var numbers = /[0-9]/g;
            if (document.getElementById("Password").value.match(numbers)) {
                number.classList.remove("invalid");
                number.classList.add("valid");
            } else {
                number.classList.remove("valid");
                number.classList.add("invalid");
            }
            // Kiểm tra kí tự đặc biệt
            var specialchar = /[ `!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?~]/;
            if (document.getElementById("Password").value.match(specialchar)) {
                special.classList.remove("invalid");
                special.classList.add("valid");
            } else {
                number.classList.remove("valid");
                number.classList.add("invalid");
            }
            //  Kiểm tra độ dài
            if (document.getElementById("Password").value.length >= 8) {
                length.classList.remove("invalid");
                length.classList.add("valid");
            } else {
                length.classList.remove("valid");
                length.classList.add("invalid");
            }
        }
    });
</script>

</html>